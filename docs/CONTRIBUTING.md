# 贡献指南

感谢你对线束直径计算工具项目的关注！我们欢迎各种形式的贡献，包括代码提交、问题报告、功能建议、文档改进等。

## 快速开始

### 1. Fork 项目
1. 访问项目仓库：[Wire-Bundle-Diameter-Calculation](https://github.com/your-repo/Wire-Bundle-Diameter-Calculation)
2. 点击右上角的 "Fork" 按钮
3. 等待 Fork 完成，进入你的个人仓库

### 2. 克隆到本地
```bash
git clone https://github.com/你的用户名/Wire-Bundle-Diameter-Calculation.git
cd Wire-Bundle-Diameter-Calculation
```

### 3. 创建分支
```bash
git checkout -b feature/你的功能名称
# 或者
git checkout -b fix/你要修复的问题
```

### 4. 开发环境设置
1. 在 Chrome/Edge 中打开扩展管理页面
2. 开启"开发者模式"
3. 点击"加载已解压的扩展程序"
4. 选择项目根目录
5. 扩展将自动加载，可以开始开发测试

## 开发规范

### 代码风格

#### 基本规范
- 使用 **2个空格** 进行缩进
- 行尾不要有多余空格
- 文件末尾保留一个空行
- 使用 UTF-8 编码

#### JavaScript 规范
```javascript
// 使用单引号
const message = 'Hello World';

// 使用小驼峰命名
let userName = 'developer';
const MAX_COUNT = 100; // 常量使用大写+下划线

// 函数命名使用动词
function calculateDiameter() {
  // 函数体
}

// 对象属性使用简洁语法
const config = {
  language,
  theme,
  autoSave
};
```

#### HTML/CSS 规范
```html
<!-- HTML 使用双引号 -->
<div class="container">
  <input type="text" placeholder="请输入数值">
</div>

<!-- CSS 类名使用短横线命名 -->
<style>
  .main-container {
    display: flex;
  }
  
  .btn-primary {
    background-color: #007bff;
  }
</style>
```

#### 文件命名
- JavaScript 文件：小驼峰命名法
  - ✅ `wireManager.js`
  - ✅ `calculationEngine.js`
  - ❌ `WireManager.js`
  - ❌ `wire-manager.js`

- CSS 文件：小驼峰命名法
  - ✅ `mainStyle.css`
  - ✅ `popupStyle.css`

- HTML 文件：小驼峰命名法
  - ✅ `helpPage.html`
  - ✅ `configPage.html`

### 提交信息规范

#### 提交格式
```
<类型>: <简短描述>

<详细描述（可选）>

<相关issue或PR引用>
```

#### 提交类型
| 类型 | 说明 | 示例 |
|------|------|------|
| feat | 新功能 | `feat: 添加导线规格导入功能` |
| fix | 修复bug | `fix: 修复计算结果精度问题` |
| docs | 文档更新 | `docs: 更新API文档` |
| style | 代码格式 | `style: 统一缩进为2空格` |
| refactor | 代码重构 | `refactor: 优化计算引擎性能` |
| test | 测试相关 | `test: 添加单元测试` |
| chore | 构建工具 | `chore: 更新依赖包` |

#### 提交示例
```bash
# 好的提交信息
git commit -m "feat: 添加多语言支持功能

- 支持中英文切换
- 添加语言检测机制
- 更新相关UI文本"

# 不好的提交信息
git commit -m "更新了一些东西"
git commit -m "fix bug"
```

## 开发流程

### 1. 需求分析
- 明确要解决的问题
- 考虑用户体验
- 评估技术可行性
- 制定实现方案

### 2. 编码实现
- 遵循代码规范
- 添加必要的注释
- 保持代码简洁
- 考虑性能优化

### 3. 测试验证
- 手动测试所有功能
- 检查不同浏览器兼容性
- 验证国际化支持
- 测试边界情况

### 4. 文档更新
- 更新相关API文档
- 修改用户手册
- 更新变更日志
- 添加代码注释

### 5. 提交审核
- 检查代码质量
- 确保测试通过
- 编写清晰的提交信息
- 创建Pull Request

## Pull Request 指南

### PR 标题格式
```
<type>: <简短描述>
```

### PR 描述模板
```markdown
## 变更说明
简要描述这次PR的主要变更

## 具体变更
- 变更1的具体说明
- 变更2的具体说明
- 变更3的具体说明

## 测试情况
- [ ] 手动测试通过
- [ ] 不同浏览器测试
- [ ] 国际化测试
- [ ] 边界情况测试

## 截图（如适用）
如果有UI变更，请提供截图

## 相关Issue
关联的Issue编号：#123
```

### 审核标准
- 代码符合规范
- 功能测试通过
- 文档更新完整
- 不影响现有功能
- 性能没有明显下降

## 功能开发指南

### 新功能开发
1. **需求确认**：先创建Issue讨论需求
2. **方案设计**：提供技术实现方案
3. **分步实现**：大的功能拆分成小步骤
4. **渐进提交**：保持提交粒度适中

### Bug修复
1. **问题复现**：先确认能复现问题
2. **根因分析**：找到问题的根本原因
3. **最小修复**：只做必要的修改
4. **回归测试**：确保修复不引入新问题

### 性能优化
1. **性能测试**：先量化当前性能
2. **瓶颈分析**：找到性能瓶颈
3. **优化实现**：实施优化方案
4. **效果验证**：验证优化效果

## 文档贡献

### 文档类型
- **用户文档**：README、使用指南、FAQ
- **开发文档**：API文档、架构设计、开发指南
- **代码文档**：函数注释、模块说明

### 文档规范
- 使用清晰的标题结构
- 提供具体的示例代码
- 保持语言简洁明了
- 及时更新过时内容

## 测试贡献

### 测试类型
- **功能测试**：验证功能正确性
- **兼容性测试**：不同浏览器测试
- **性能测试**：检查性能指标
- **国际化测试**：多语言支持测试

### 测试用例设计
- 覆盖正常流程
- 考虑边界情况
- 测试错误处理
- 验证用户体验

## 问题报告

### Bug报告模板
```markdown
## 问题描述
清晰简洁地描述问题

## 复现步骤
1. 第一步
2. 第二步
3. 第三步

## 预期行为
描述应该发生什么

## 实际行为
描述实际发生了什么

## 环境信息
- 浏览器版本：
- 操作系统：
- 扩展版本：

## 截图
如果有错误截图，请提供
```

### 功能建议模板
```markdown
## 功能描述
描述你希望添加的功能

## 使用场景
这个功能解决什么问题

## 预期效果
描述功能的具体表现

## 替代方案
是否有其他实现方式
```

## 社区行为准则

### 基本准则
- **友善尊重**：保持礼貌和尊重
- **建设性**：提供有建设性的反馈
- **包容性**：欢迎不同背景的贡献者
- **专业性**：保持专业的交流态度

### 禁止行为
- 人身攻击或歧视性语言
- 垃圾信息或无关内容
- 恶意代码或安全威胁
- 侵犯他人知识产权

## 获取帮助

### 联系方式
- **Issue讨论**：在GitHub Issue中讨论
- **代码审查**：在Pull Request中交流
- **文档改进**：直接提交文档修改

### 资源链接
- [项目文档](./README.md)
- [架构设计](./ARCHITECTURE.md)
- [API文档](./API.md)

### 常见问题
**Q: 我是新手，如何开始贡献？**
A: 建议从简单的文档改进或小的bug修复开始，熟悉开发流程后再参与功能开发。

**Q: 我的代码被拒绝了怎么办？**
A: 仔细阅读审核意见，理解问题所在，修改后重新提交。审核是为了保证代码质量，不是针对个人。

**Q: 如何成为核心贡献者？**
A: 通过持续的优质贡献，展现技术能力和责任心，经现有团队认可后可以成为核心成员。

---

再次感谢你的贡献！每一个贡献，无论大小，都让这个项目变得更好。🎉
